<!DOCTYPE html><html lang="zh-CN,en,default"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="A legendary army."><title>Server Side Rendering with Redux and React-Server | Crusade</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Server Side Rendering with Redux and React-Server</h1><a id="logo" href="/.">Crusade</a><p class="description">For honor!</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Server Side Rendering with Redux and React-Server</h1><div class="post-meta">Feb 11, 2017<span> | </span><span class="category"><a href="/categories/Front-End/">Front End</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2017/02/11/server-side-rendering/" href="/2017/02/11/server-side-rendering/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p><a href="http://isomorphic.net/" target="_blank" rel="external">Isomorphic JavaScript</a>, or universal JavaScript, is more and more popular nowadays. Basicly, it means JavaScript applications that can run on both client and server side. It has lots of advantages over traditional web development paradigms (e.g, <a href="http://rubyonrails.org/" target="_blank" rel="external">Ruby on Rails</a>, <a href="https://www.djangoproject.com/" target="_blank" rel="external">Django</a>, etc.), in terms of SEO, response speed and code maintainability. The key part of isomporhic JavaScript is Server Side Rendering (SSR). This post will introduce the basic concepts of SSR and discuss some SSR implementations.</p>
<h2 id="What-is-SSR"><a href="#What-is-SSR" class="headerlink" title="What is SSR?"></a>What is SSR?</h2><blockquote><p>The most common use case for server-side rendering is to handle the initial render when a user (or search engine crawler) first requests our app. When the server receives the request, it renders the required component(s) into an HTML string, and then sends it as a response to the client. From that point on, the client takes over rendering duties.</p>
<footer><strong>Redux</strong><cite><a href="http://redux.js.org/docs/recipes/ServerRendering.html" target="_blank" rel="external">Server Rendering</a></cite></footer></blockquote>
<p>To make it clear, SSR includes the following points:</p>
<ol>
<li>It happens at the first request</li>
<li>The server renders required components into string and sends it to the client</li>
<li>The following rendering duty is on the client.</li>
</ol>
<h2 id="Why-SSR"><a href="#Why-SSR" class="headerlink" title="Why SSR?"></a>Why SSR?</h2><p>Orginally, server-side MVC frameworks like Django and RoR render all the parts of web pages through templates. They have the following drawbacks:</p>
<ol>
<li>Long response time. Usually, the server needs to retrieve all the needed data first, renders the whole page into HTML string and then sends the fully-fledged page to the client. Too much work needs to do before the server sends the first byte of HTML page.</li>
<li>Different logics on client and server side. In the server side, rendering logic is written in template languages such as <a href="http://jinja.pocoo.org/docs/2.9/" target="_blank" rel="external">Jinja2</a>, <a href="http://guides.rubyonrails.org/layouts_and_rendering.html" target="_blank" rel="external">ERB</a>, etc., but in the client, all the rendering logic is written in JavaScript. Different logics require more efforts and add the burden of maintainance.</li>
</ol>
<p>Then, some frontend MVC frameworks emerge, which take over all data fetching and rendering work and corresponding the server divides into web server and API server. Web server just sends the basic page to the client, and the client fetches data through AJAX request to API server and construct the whole page. It responds faster compared to rendering whole page with templates in server-side and the rendering logic is all written in JavaScript. However, it still has the following drawbacks:</p>
<ol>
<li>Data requests on the client are more time-consuming compared with those triggered in the server side. Usually, it’s faster to get all data packed in the server due to the data locality, and there’re also contraints on concurrent request number in the browser.</li>
<li>Not very friendly for the web crawlers. Not all web crawlers are equiped with JavaScript runtime, and it’s bad for SEO since the first look of the website is nearly empty.</li>
</ol>
<p>SSR can sovle the problem tactfully. It uses JavaScript both in client and server side, and renders the required components when the first request comes. Compared to rendering all the parts of the page, it has lower latency; and the initial response are richer than pure client side rendering.</p>
<h2 id="How-to-achieve-SSR"><a href="#How-to-achieve-SSR" class="headerlink" title="How to achieve SSR?"></a>How to achieve SSR?</h2><p>With Redux, it’s easy to implement SSR. The basic idea is that the server assembles the basic store, obtain the initial state from it and send the state to the client along with the rendered HTML string. The client will recreate the store with the received state and take over the rendering job after that. Let’s see an example to make things clear.</p>
<p>Assuming there’s a page with three parts, i.e, head, body and footer, and each part has to get a color propery to render from an API invocation. With Redux, we need to construct the initial store:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">  <span class="keyword">const</span> p1 = fetch(<span class="string">'http://localhost:3000/api/color?part=head'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> res.json());</div><div class="line">  <span class="keyword">const</span> p2 = fetch(<span class="string">'http://localhost:3000/api/color?part=body'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> res.json());</div><div class="line">  <span class="keyword">const</span> p3 = fetch(<span class="string">'http://localhost:3000/api/color?part=footer'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> res.json());</div><div class="line">  <span class="built_in">Promise</span>.all([p1, p2, p3]).then(<span class="function">(<span class="params">[head, body, footer]</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// assemble an initial state</span></div><div class="line">    <span class="keyword">const</span> preloadedState = &#123;</div><div class="line">      <span class="attr">head</span>: &#123; <span class="attr">color</span>: head.color&#125;,</div><div class="line">      <span class="attr">body</span>: &#123; <span class="attr">color</span>: body.color&#125;,</div><div class="line">      <span class="attr">footer</span>: &#123; <span class="attr">color</span>: footer.color&#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// create a new Redux store instance</span></div><div class="line">    <span class="keyword">const</span> store = configureStore(preloadedState);</div><div class="line">    ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Here <code>configureStore</code> is just a helper function to create a store from a <code>preloadedState</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> configureStore = <span class="function">(<span class="params">preloadedState</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">const</span> store = createStore(</div><div class="line">    rootReducer,</div><div class="line">    preloadedState,</div><div class="line">    enhancer</div><div class="line">  );</div><div class="line">  <span class="keyword">return</span> store;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>Since we create the initial store, we can obtain the the HTML string with React’s <code>renderToString</code> method:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Render the component to a string</span></div><div class="line"><span class="keyword">const</span> html = renderToString(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></div><div class="line">);</div></pre></td></tr></table></figure>
<p>Here <code>App</code> contains a <code>Head</code>, a <code>Body</code> and a <code>Footer</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// App/container.js</span></div><div class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">      <span class="tag">&lt;<span class="name">Head</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">Body</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">Footer</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  );</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect()(App);</div></pre></td></tr></table></figure>
<p>Then, we send the initial state with HTML string to the client:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"></div><div class="line">Promise.all([p1, p2, p3]).then(<span class="function">(<span class="params">[head, body, footer]</span>) =&gt;</span> &#123;</div><div class="line">  ...</div><div class="line">  <span class="comment">// Create a new Redux store instance</span></div><div class="line">  <span class="keyword">const</span> store = configureStore(preloadedState);</div><div class="line"></div><div class="line">  <span class="comment">// Render the component to a string</span></div><div class="line">  <span class="keyword">const</span> html = renderToString(</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></div><div class="line">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></div><div class="line">  );</div><div class="line"></div><div class="line">  <span class="comment">// Grab the initial state from our Redux store</span></div><div class="line">  <span class="keyword">const</span> finalState = store.getState();</div><div class="line"></div><div class="line">  <span class="comment">// Send the rendered page back to the client</span></div><div class="line">  res.send(renderFullPage(html, finalState));</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderFullPage</span>(<span class="params">html, preloadedState</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`</span></div><div class="line">    &lt;!doctype html&gt;</div><div class="line">    &lt;html&gt;</div><div class="line">      &lt;head&gt;</div><div class="line">        &lt;title&gt;Redux Universal Example&lt;/title&gt;</div><div class="line">      &lt;/head&gt;</div><div class="line">      &lt;body&gt;</div><div class="line">        &lt;div id="app"&gt;<span class="subst">$&#123;html&#125;</span>&lt;/div&gt;</div><div class="line">        &lt;script&gt;</div><div class="line">          window.__PRELOADED_STATE__ = <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(preloadedState).replace(<span class="regexp">/&lt;/g</span>, <span class="string">'\\x3c'</span>)&#125;</span></div><div class="line">        &lt;/script&gt;</div><div class="line">        &lt;script src="/static/bundle.js"&gt;&lt;/script&gt;</div><div class="line">      &lt;/body&gt;</div><div class="line">    &lt;/html&gt;</div><div class="line">    `;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We send the initial state to the client by setting a global variable <code>__PRELOADED_STATE__</code>, the client will restore state from it:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> preloadedState = <span class="built_in">window</span>.__PRELOADED_STATE__;</div><div class="line"><span class="keyword">const</span> store = configureStore(preloadedState);</div></pre></td></tr></table></figure>
<p>You can see that the logic is the same by using the helper <code>configureStore</code>. Then, the client will re-render the page and compare the checksum to see whether it’s the same with the markup rendered at the server side (usually it should be identical). After that, the client will take over all the rendering work.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> rootElement = <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>);</div><div class="line"></div><div class="line">render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">App</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span>,</div><div class="line">  rootElement</div><div class="line">);</div></pre></td></tr></table></figure>
<p>The source code can be found at <a href="http://github.com/Sean-Lan/redux-universal" target="_blank" rel="external">my github</a>, play around with it to better understand Redux SSR.</p>
<h2 id="Stream-the-Rendering"><a href="#Stream-the-Rendering" class="headerlink" title="Stream the Rendering"></a>Stream the Rendering</h2><p>There’re still something not so good of Redux SSR just mentionded above. We create three <code>Promise</code> objects to get the initial data, and <em>only</em> start rendering the page after <em>all</em> of them are solved, which is quite time-consuming. Ideally, if the color of the head is retrieved, the server should render the head and send it the client to make it inteactive so that the user will not wait too long. <a href="https://react-server.io/" target="_blank" rel="external">React-Server</a> is born for that.</p>
<p>Each <code>RootComponent</code> of React-Server has a <code>when</code> property, and you can pass a <code>Promise</code> object to it. When the <code>Promise</code> object gets resolved, the server will render the component and send it to the client. Re-written the app with React-Server looks like the following:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> </span>&#123;</div><div class="line">  handleRoute(next) &#123;</div><div class="line"></div><div class="line">    ...</div><div class="line"></div><div class="line">    const enhancer = composeEnhancers(</div><div class="line">      applyMiddleware(thunk)</div><div class="line">    );</div><div class="line">    <span class="keyword">const</span> store = <span class="keyword">this</span>.store = createStore(</div><div class="line">      rootReducer,</div><div class="line">      enhancer</div><div class="line">    );</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.headData = agent.get(<span class="string">'/api/color?part=head'</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</div><div class="line">      store.dispatch(head.actions.receiveColor(data.body.color));</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.bodyData = agent.get(<span class="string">'/api/color?part=body'</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</div><div class="line">      store.dispatch(body.actions.receiveColor(data.body.color));</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.footerData = agent.get(<span class="string">'/api/color?part=footer'</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</div><div class="line">      store.dispatch(footer.actions.receiveColor(data.body.color));</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    ...</div><div class="line"></div><div class="line">    return next();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  getElements() &#123;</div><div class="line">    <span class="keyword">const</span> &#123;store, headData, bodyData, footerData&#125; = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">RootContainer</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">RootElement</span> <span class="attr">when</span>=<span class="string">&#123;headData&#125;</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">Head</span> /&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">RootElement</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">TheFold</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">RootElement</span> <span class="attr">when</span>=<span class="string">&#123;bodyData&#125;</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">Body</span> /&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">RootElement</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">RootElement</span> <span class="attr">when</span>=<span class="string">&#123;footerData&#125;</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">Footer</span> /&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">RootElement</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">RootContainer</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Under the hood, each time the server parses a <code>RootComponent</code>, when the data is ready (<code>when</code> promise get resolved) the server will send it to the client. There is one special tag <code>&lt;TheFold&gt;</code>, which is used to specify all the components above the fold. Once the server sees it, it will send an additional <code>&lt;script&gt;</code> tag to the client and runtime engine in the client side will enable the event listeners on the components to make it interactive. After that, each <code>RootComponent</code> will come along with a <code>&lt;script&gt;</code> tag to make it interactive.</p>
<p>There is another trick of React-Server. To be <em>isomorphic</em>, it adds a cache layer of <a href="https://github.com/visionmedia/superagent" target="_blank" rel="external">SuperAgent</a>. The same codes run on both server side and client side, and once the server gets the data, the data will be cached and the client will obtain the data directly from the cache without triggering a network request.</p>
<p>The source code is also available at <a href="https://github.com/Sean-Lan/react-server-demo" target="_blank" rel="external">my github</a>, you can compare it with the previous one.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This post introduced server side rendering and discussed its benifits. Two possible implementations has been given, the one using pure Redux has longer first-byte latency compared with <code>React-Server</code>. <code>React-Server</code> features fine granularity of streaming the SSR and better isomorphic JavaScript logic. Although its documentation is not comprehensive enough (anyway, it can improve your ability of reading source code), I believe it’s promising in the future.</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://www.sean-lan.com/2017/02/11/server-side-rendering/" data-id="cj13n23ci000tiijjvvmweblx" class="article-share-link">分享到</a><div class="tags"><a href="/tags/JavaScript/">JavaScript</a><a href="/tags/React/">React</a></div><div class="post-nav"><a href="/2016/12/20/set-up-proxy-in-terminal/" class="pre">Setting Up HTTP Proxy in Terminal</a><a href="/2017/03/20/react-animation/" class="next">CSS Animation and the Usage with React</a></div><div id="disqus_thread"><script>var disqus_shortname = 'uniquelanxiang';
var disqus_identifier = '2017/02/11/server-side-rendering/';
var disqus_title = 'Server Side Rendering with Redux and React-Server';
var disqus_url = 'http://www.sean-lan.com/2017/02/11/server-side-rendering/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//uniquelanxiang.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://www.sean-lan.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Back-End/">Back End</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Front-End/">Front End</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile-Application/">Mobile Application</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/03/20/react-animation/">CSS Animation and the Usage with React</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/11/server-side-rendering/">Server Side Rendering with Redux and React-Server</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/20/set-up-proxy-in-terminal/">Setting Up HTTP Proxy in Terminal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/25/javascript-closure/">Javascript Closure: Typical Usages and Gotchas</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/30/python-re-grammar/">Python re Grammar Guide</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/25/python-re-quick-guide/">Quick Guide to Python re module</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/customize-browser-back-and-forward-button-behaviour/">Customize Browser Back and Forward Button Behavior</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/15/django-uwsgi-nginx/">Deploy Django Project in nginx with uWSGI on Mac OS X</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/12/jupyter-notebook-set-up/">Setting Up Jupyter Notebook with JavaScript, Python2 and Python3 Support</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/29/ways-to-horizontal-and-vertical-center/">Ways to Horizontally and Vertically Center Child Elements in Parent</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//uniquelanxiang.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.shinexu.com/" title="Vesion" target="_blank">Vesion</a><ul></ul><a href="http://rationaldesign.studio/" title="Rational Design" target="_blank">Rational Design</a><ul></ul><a href="http://buchi.la/" title="Matt" target="_blank">Matt</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Crusade.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?7a1d7b5bb01512fff50895f7b6558c95";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>